<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Lightstribe WS2811/WS2812: Lightstribe.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hochschullogo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lightstribe WS2811/WS2812
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_lightstribe_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Lightstribe.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>basic functions for controlling WS2811/WS2812 LEDs  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;avr/io.h&gt;</code><br />
</div>
<p><a href="_lightstribe_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcolor24bit.html">color24bit</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">24 Bit color structure RGB 8-8-8  <a href="structcolor24bit.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a63fa595d401f0e85c1bba55ba2b1d66e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lightstribe_8h.html#a63fa595d401f0e85c1bba55ba2b1d66e">changeled</a> (struct <a class="el" href="structcolor24bit.html">color24bit</a> color, uint8_t *lightdata, uint8_t lednr)</td></tr>
<tr class="memdesc:a63fa595d401f0e85c1bba55ba2b1d66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">change the color of one LED at a specific position; run transmit2leds afterwards to update the LEDs  <a href="#a63fa595d401f0e85c1bba55ba2b1d66e">More...</a><br /></td></tr>
<tr class="separator:a63fa595d401f0e85c1bba55ba2b1d66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba9462833e30ef725eaf18c3d01eb71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lightstribe_8h.html#abba9462833e30ef725eaf18c3d01eb71">setled</a> (struct <a class="el" href="structcolor24bit.html">color24bit</a> color, uint8_t *lightdata, uint8_t lednr)</td></tr>
<tr class="memdesc:abba9462833e30ef725eaf18c3d01eb71"><td class="mdescLeft">&#160;</td><td class="mdescRight">set the color of one LED at a specific position, all others are off; run transmit2leds afterwards to update the LEDs  <a href="#abba9462833e30ef725eaf18c3d01eb71">More...</a><br /></td></tr>
<tr class="separator:abba9462833e30ef725eaf18c3d01eb71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac724dad670e4a26723daf71ce6a8d8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_lightstribe_8h.html#aac724dad670e4a26723daf71ce6a8d8a">transmit2leds</a> (uint8_t lightdata[])</td></tr>
<tr class="memdesc:aac724dad670e4a26723daf71ce6a8d8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">transmit the color array to the stribe  <a href="#aac724dad670e4a26723daf71ce6a8d8a">More...</a><br /></td></tr>
<tr class="separator:aac724dad670e4a26723daf71ce6a8d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>basic functions for controlling WS2811/WS2812 LEDs </p>
<dl class="section version"><dt>Version</dt><dd>V1.00 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>05.01.2016 </dd></dl>
<dl class="section author"><dt>Authors</dt><dd>Wank Florian </dd></dl>

<p>Definition in file <a class="el" href="_lightstribe_8h_source.html">Lightstribe.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a63fa595d401f0e85c1bba55ba2b1d66e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void changeled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcolor24bit.html">color24bit</a>&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>lightdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lednr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change the color of one LED at a specific position; run transmit2leds afterwards to update the LEDs </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">struct</td><td><a class="el" href="structcolor24bit.html" title="24 Bit color structure RGB 8-8-8 ">color24bit</a> color : 24 bit color in GRB format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>*lightdata : pointer to the complete lightdata that contains all color values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>lednr : position of the LED that should be changed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the right color format is created using the colorconv8to24-function with the ledtype predefined </dd></dl>

<p>Definition at line <a class="el" href="_lightstribe_8c_source.html#l00033">33</a> of file <a class="el" href="_lightstribe_8c_source.html">Lightstribe.c</a>.</p>

</div>
</div>
<a class="anchor" id="abba9462833e30ef725eaf18c3d01eb71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setled </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcolor24bit.html">color24bit</a>&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>lightdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lednr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set the color of one LED at a specific position, all others are off; run transmit2leds afterwards to update the LEDs </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">struct</td><td><a class="el" href="structcolor24bit.html" title="24 Bit color structure RGB 8-8-8 ">color24bit</a> color : 24 bit color in GRB format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>*lightdata : pointer to the complete lightdata that contains all color values </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>lednr : position of the LED that should be set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the right color format is created using the colorconv8to24-function with the ledtype predefined; all other LEDs are cleared so they are off </dd></dl>

<p>Definition at line <a class="el" href="_lightstribe_8c_source.html#l00051">51</a> of file <a class="el" href="_lightstribe_8c_source.html">Lightstribe.c</a>.</p>

</div>
</div>
<a class="anchor" id="aac724dad670e4a26723daf71ce6a8d8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transmit2leds </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>lightdata</em>[]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transmit the color array to the stribe </p>
<p>To control the LEDs of type WS2811/WS2812 a critical timing is necessary. To achieve the correct timing and to create effects the lightdata is stored in an array first. All operations effect the color array. If the color array is prepared it is transmitted to the stribes via a one-wire protocol using this function. This function generates the high and low times using assembler NOPs to achieve the timing. The number of NOPs are stored in macros for transmitting a Low Bit (SETLOW) or a High Bit (SETHIGH). This function should not be changed or optimized because of the timing! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>lightdata[] : data with the colors for each LED to control </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should not be changed or optimized because of the timing! Do not use higher optimization than O1!!! Do not remove the {} brackets because SETLOW/SETHIGH are definitions with several commands! </dd></dl>

<p>Definition at line <a class="el" href="_lightstribe_8c_source.html#l00096">96</a> of file <a class="el" href="_lightstribe_8c_source.html">Lightstribe.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_lightstribe_8h.html">Lightstribe.h</a></li>
    <li class="footer">Generated on Thu May 5 2016 13:11:01 for Lightstribe WS2811/WS2812 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
